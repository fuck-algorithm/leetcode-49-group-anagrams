# 需求文档

## 简介

本项目是一个用于教学目的的算法演示网站，专门展示LeetCode第49题"字母异位词分组"算法的执行过程。网站使用TypeScript + React + D3.js技术栈构建，支持分步骤演示算法执行过程，包含代码高亮、变量追踪、可视化画布等功能，帮助用户深入理解算法原理。

## 术语表

- **字母异位词（Anagram）**: 由相同字母重新排列组成的不同单词
- **算法步骤（Algorithm Step）**: 算法执行过程中的一个离散状态
- **画布（Canvas）**: 用于绘制数据结构可视化的D3.js渲染区域
- **控制面板（Control Panel）**: 包含播放控制按钮的UI组件
- **代码面板（Code Panel）**: 显示算法源代码并支持debug效果的组件
- **进度条（Progress Bar）**: 显示当前算法执行进度的可拖拽组件

## 需求

### 需求1：页面布局与导航

**用户故事：** 作为用户，我希望页面有清晰的布局和导航，以便我能快速了解这是什么算法并访问相关资源。

#### 验收标准

1. WHEN 用户访问页面 THEN 系统 SHALL 在页面顶部显示标题"49. 字母异位词分组"，标题可点击跳转到LeetCode题目详情页
2. WHEN 用户查看页面右上角 THEN 系统 SHALL 显示GitHub徽标图标，点击后跳转到项目仓库页面
3. WHEN 页面加载完成 THEN 系统 SHALL 确保所有内容在单屏幕内展示，无需滚动

### 需求2：代码展示与Debug效果

**用户故事：** 作为用户，我希望看到算法的Java代码，并能像调试器一样看到当前执行的行和变量值，以便理解算法执行过程。

#### 验收标准

1. WHEN 页面加载 THEN 系统 SHALL 在代码面板中显示带有行号的Java算法代码
2. WHEN 算法执行到某一步 THEN 系统 SHALL 高亮显示当前执行的代码行
3. WHEN 变量值发生变化 THEN 系统 SHALL 在对应代码行的右侧显示变量的当前内存值
4. WHEN 代码显示 THEN 系统 SHALL 确保代码正确对齐，无缩进问题
5. WHEN 代码显示 THEN 系统 SHALL 应用语法高亮，区分关键字、字符串、注释等

### 需求3：算法可视化画布

**用户故事：** 作为用户，我希望在画布上看到数据结构的可视化展示，以便直观理解算法的数据处理过程。

#### 验收标准

1. WHEN 算法执行 THEN 系统 SHALL 在画布上绘制字符串数组和分组结果的可视化表示
2. WHEN 用户拖动画布 THEN 系统 SHALL 允许平移画布视图
3. WHEN 用户使用鼠标滚轮或手势 THEN 系统 SHALL 允许缩放画布
4. WHEN 算法状态变化 THEN 系统 SHALL 在画布上显示相关的文字说明（如当前处理的字符串、排序后的键值等）
5. WHEN 数据分组发生 THEN 系统 SHALL 用动画展示字符串移动到对应分组的过程

### 需求4：播放控制面板

**用户故事：** 作为用户，我希望能控制算法演示的播放，以便按自己的节奏学习。

#### 验收标准

1. WHEN 用户点击"上一步"按钮或按左方向键 THEN 系统 SHALL 回退到上一个算法步骤
2. WHEN 用户点击"下一步"按钮或按右方向键 THEN 系统 SHALL 前进到下一个算法步骤
3. WHEN 用户点击"播放"按钮或按空格键 THEN 系统 SHALL 自动播放算法步骤
4. WHEN 用户点击"暂停"按钮或按空格键 THEN 系统 SHALL 暂停自动播放
5. WHEN 用户点击"重置"按钮 THEN 系统 SHALL 将算法重置到初始状态
6. WHEN 控制按钮显示 THEN 系统 SHALL 在按钮上显示对应的快捷键提示文案

### 需求5：进度条

**用户故事：** 作为用户，我希望看到算法执行的进度，并能快速跳转到任意步骤。

#### 验收标准

1. WHEN 页面显示 THEN 系统 SHALL 在控制面板下方显示宽度为100%的进度条
2. WHEN 算法执行 THEN 系统 SHALL 将已播放部分显示为绿色，未播放部分显示为灰色
3. WHEN 用户拖动进度条 THEN 系统 SHALL 跳转到对应的算法步骤

### 需求6：用户数据输入

**用户故事：** 作为用户，我希望能输入自定义数据来测试算法，以便验证我对算法的理解。

#### 验收标准

1. WHEN 页面显示 THEN 系统 SHALL 在标题下方显示紧凑的数据输入区域
2. WHEN 用户输入自定义数据 THEN 系统 SHALL 接受用户输入的字符串数组
3. WHEN 页面显示 THEN 系统 SHALL 平铺展示多个内置数据样例供用户点击选择
4. WHEN 用户点击"随机生成" THEN 系统 SHALL 生成符合题目约束的随机字符串数组
5. WHEN 用户提交数据 THEN 系统 SHALL 验证输入数据的合法性（仅包含小写字母，长度符合约束）
6. IF 用户输入的数据不合法 THEN 系统 SHALL 显示错误提示并阻止算法执行

### 需求7：微信交流群悬浮球

**用户故事：** 作为用户，我希望能方便地加入算法交流群，以便与其他学习者交流。

#### 验收标准

1. WHEN 页面显示 THEN 系统 SHALL 在右下角显示带有"交流群"字样的悬浮球图标
2. WHEN 用户将鼠标悬停在悬浮球上 THEN 系统 SHALL 显示微信二维码图片
3. WHEN 二维码显示 THEN 系统 SHALL 保持图片原有比例，不产生变形
4. WHEN 二维码显示 THEN 系统 SHALL 提示用户"微信扫码发送'leetcode'加入算法交流群"

### 需求8：自动部署

**用户故事：** 作为开发者，我希望代码提交后能自动部署到GitHub Pages，以便用户能访问最新版本。

#### 验收标准

1. WHEN 代码推送到主分支 THEN 系统 SHALL 触发GitHub Actions工作流
2. WHEN 工作流执行 THEN 系统 SHALL 构建项目并部署到GitHub Pages
3. WHEN 部署完成 THEN 系统 SHALL 使网站可通过GitHub Pages URL访问

### 需求9：算法步骤生成

**用户故事：** 作为用户，我希望算法的每一步都被清晰记录，以便我能逐步理解算法执行过程。

#### 验收标准

1. WHEN 算法开始执行 THEN 系统 SHALL 生成包含所有执行步骤的步骤序列
2. WHEN 步骤生成 THEN 系统 SHALL 记录每一步的代码行号、变量状态、数据结构状态
3. WHEN 步骤生成 THEN 系统 SHALL 为每一步生成描述性文字说明
